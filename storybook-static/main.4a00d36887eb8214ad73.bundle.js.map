{"version":3,"file":"main.4a00d36887eb8214ad73.bundle.js","sources":["webpack:///./src/utils/antd-form-helpers.tsx"],"sourcesContent":["\"use strict\";\nvar _this = this;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar tslib_1 = require(\"tslib\");\nvar antd_1 = require(\"antd\");\nvar fp_1 = tslib_1.__importDefault(require(\"lodash/fp\"));\nvar react_1 = tslib_1.__importDefault(require(\"react\"));\nexports.getFormHelpers = function (formProps) {\n    var getFieldDecorator = formProps.getFieldDecorator, getFieldError = formProps.getFieldError, isFieldTouched = formProps.isFieldTouched, validateFields = formProps.validateFields;\n    var _shouldShowError = function (fieldId) {\n        return isFieldTouched(fieldId) && getFieldError(fieldId);\n    };\n    var _formHasErrors = function (errors) {\n        return fp_1.default.pipe(fp_1.default.keys, fp_1.default.some(function (field) { return errors[field]; }))(errors);\n    };\n    var _renderFields = function (field) {\n        var _error = _shouldShowError(field.id);\n        var _decorator = getFieldDecorator(field.id, field.config);\n        var _field = _decorator(field.component);\n        var _validateStatus = _error ? 'error' : '';\n        var _help = _error || '';\n        return react_1.default.createElement(antd_1.Form.Item, tslib_1.__assign({ key: field.id, validateStatus: _validateStatus, help: _help }, field.formItemProps), _field);\n    };\n    var _handleSubmit = function (e, cb) {\n        e.preventDefault();\n        return new Promise(function (resolve, reject) {\n            validateFields(function (err, values) { return tslib_1.__awaiter(_this, void 0, void 0, function () {\n                return tslib_1.__generator(this, function (_a) {\n                    if (err) {\n                        reject(err);\n                    }\n                    resolve(cb(values));\n                    return [2];\n                });\n            }); });\n        });\n    };\n    return {\n        shouldFieldShowError: _shouldShowError,\n        renderFields: _renderFields,\n        formHasErrors: _formHasErrors,\n        handleSubmit: _handleSubmit,\n    };\n};\n"],"mappings":"AACA","sourceRoot":""}